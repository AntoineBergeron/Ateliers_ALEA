---
title: ": Introduction à la programmation scientifique"
author: "Antoine Bergeron"
date: "A2020"
output:
  xaringan::moon_reader:
    css: [default, ../Ateliers_ALEA.css, "hygge"]
    lib_dir: assets
    seal: false
    nature:
      highlightStyle: monokai
      highlightLines: true
      countIncrementalSlides: false
      beforeInit: "../macros.js"
---

class: title-slide, middle

<style type="text/css">
  .title-slide {
    background-image: url('assets/img/Coding.png');
    background-color: #23373B;
    background-size: contain;
    border: 0px;
    background-position: 600px 0;
    line-height: 1;
  }
</style>

# Bienvenue aux exercices supplémentaires

<hr width="65%" align="left" size="0.3" color="orange"></hr>

## Atelier 1, 2 et 3. 

<hr width="65%" align="left" size="0.3" color="orange" style="margin-bottom:40px;" alt="@Martin Sanchez"></hr>

.instructors[
  ***ALÉA R*** - Antoine Bergeron
]

<img src="assets/img/Rlogo.png" width="8%" style="margin-top:20px;"></img>


---
class: inverse, middle, center

# Exercices supplémentaires de l'atelier 1
<hr width="65%" size="0.3" color="orange" style="margin-top:-20px;"></hr>


---

# Exemple 1

Supposons que l'on cherche à calculer:


$$ \dfrac{(5x+2) \cdot 2y}{z+9} $$

avec $x = 1$, $y = 3$ et $z = 3$.

---

# Exemple 1 (suite)

```
x <- 1
y <- 3
z <- 3


res1 <- 5*x+2*2*y/z+9
res2 <- 5*x+2*2*y/(z+9)
res3 <- 5*(x+2*2*y/z)+9
res4 <- ((5*x+2)*2*y)/(z+9)
res5 <- ((5*x+2)*2*y)/z+9

res1 = 18
res2 = 6
res3 = 34
res4 = 3.5
res5 = 23


```
Mais, quelle réponse est la bonne? 


---
class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 1 (solution)

La solution est belle et bien la valeur de res4, soit 3.5.

On peut voir le numérateur et le dénominateur comme deux termes indépendants:  [(5x+2)*2y] et [z+9].

Le terme du numérateur nous indique clairement que l'ensemble du terme (5x+2) doit être multiplié par 2y, d'où ((5x+2)*2y).


Donc, $(5x+2) = (5*1+2) = 7$. 

Et, $2y = 2*3 = 6$.

D'où, $((5x+2)*2y) = ((7)*6) = 42$.

De plus, $(z+9) = (3+9) = 12$.

Enfin, $((5x+2)*2y)/(z+9) = (42)/(12) = 3.5$.

Notons que la fonction $(5*x+2)*2*y/(z+9)$ aurait aussi fonctionné.

---

# Exemple 2

Lors d'un entraînement de hockey, on demande au gardien de but de réaliser 10 arrêts avant de pouvoir quitter la patinoire.
Ainsi, tant qu'il n'aura pas fait 10 arrêts, ce dernier doit continuer l'entraînement.
Écrivez le pseudo-code relié à cette situation. 

Pour la ligne correspondante au "calcul de si l'arrêt a été effectué", vous pouvez utiliser celle-ci:
*Calcul de (ARRET <- TRUE) ou (ARRET <- FALSE) 

*Nous verrons des exemples à l'atelier 3 sur comment calculer aléatoirement un évènement comme celui-ci à l'aide de probabilité.

---
class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 2 (solution)

```
Nb_arret <- 0  # Le gardien débute avec aucun arrêt

                                  # Tant que le nombre d'arrêt est plus petit que 10
While(Nb_arret < 10){                              # On "observe" si le gardien fait
Calcul de (ARRET <- TRUE) ou (ARRET <- FALSE)       # un arrêt ou non
   if(ARRET == TRUE){                               # S'il a fait un arrêt,
     Nb_arret <- Nb_arret + 1                # Alors le nombre d'arrêt augmente de 1
   }                                # Pas besoin de else (S'il n'a pas fait d'arrêt, 
}                             # alors on recommence la boucle while tout simplement)
```

---

# Exemple 3

<text style="font-size:Large;">

Béatrice et Claude vont à l'Université de Sherbrooke et sont dans le même programme. À la suite de deux sessions, Béatrice est d'une constance incroyable. Pour ces 10 cours, elle a obtenu une moyenne de 70 exactement. Pour sa part, Claude a obtenu des moyennes plus variables. Celles-ci sont représentées dans le vecteur suivant:

C = (60.70,80,90,60,70,80,90,80,50)

Cependant, Claude remarque qu'il a inscrit ses notes à l'envers dans le vecteur. Ainsi, la première position (60) représente sa moyenne au cours #10, la deuxième position (70) représente sa moyenne au cours #9, et ainsi de suite. 

À l'aide d'un vecteur B (celui des notes de Béatrice) et du vecteur C (on doit utiliser le vecteur C, et non pas récrire le vecteur C à l'envers!!!), écrivez le pseudo-code qui permettrait de déterminer qui entre Béatrice et Claude a obtenu le meilleur résultat à chaque examen. On aimerait afficher à l'écran que Claude ou Béatrice a obtenu la meilleure note dans un tel cas, et inscrire que les notes sont semblables si celles-ci sont égales.

---

class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 3 (solution)

<text style="font-size:footnotesize;">

```
B <- c(70,70,70,70,70,70,70,70,70,70) 
C <- c(60.70,80,90,60,70,80,90,80,50)

FOR POS in 1:10  
  IF(B[POS] > C[11-POS]){ 
    PRINT("Béatrice a obtenu la meilleure note")
  } ELSEIF (B[POS] < C[11-POS]){ 
    PRINT("Claude a obtenu la meilleure note") 
  } ELSE { 
    PRINT("Les notes sont semblables")
  }
  ENDIF
END FOR
```

Remarquons que l'on compare la position POS du vecteur B avec la position 11-POS du vecteur C. Ainsi, en ordre, de POS=1 à POS=10, on compare les positions, sous forme de couple, suivantes: (1,10), (2,9), (3,8), ... , (10,1). La comparaison est donc adéquate.

---

# Exemple 3 (solution)

<text style="font-size:footnotesize;">


 - Cours dans l'ordre (1,2,3,...)
 - Cours à l'envers (10,9,8,...) d'où 
 - position 10 = 1er cours, position 9 = 2e cours
 - position 8 = 3e cours, position 7 = 4e cours, etc.
   
   
 - Pour chacune des 10 positions du vecteur (les 10 cours)
   - si la valeur en position POS pour Béatrice (Cours POS)
   - est plus grande que la valeur en position 11 - POS
   - pour Claude (Cours POS)
   - Alors, c'est que Béatrice a la meilleure note
   - Si c'est le contraire (seul le signe d'inégalité change)
   - Alors, c'est que Claude a la meilleure note
   - Sinon, c'est qu'ils ont la même note!
   - D'où, les notes sont semblables
   
---

# Exemple 4

La fonction rank() sur R prend un vecteur en argument et retourne le rang des valeurs dans un nouveau vecteur de même longueur. Par exemple,

```{r}
vec <- c(24,52,11,7,34,77,47,1,96,45)
rank(vec)
```
   
Écrivez un pseudo-code, à l'aide de boucles et d'expressions conditionnelles, pouvant remplacer la fonction rank(). Pour vous faciliter la tâche, supposez que les valeurs du vecteur sont toutes différentes.

*Indice:* Pour chacune des positions du vecteur que l'on souhaite créer, on cherche à comparer la position identique du vecteur "vec" avec toutes les autres valeurs. Lorsque cette valeur est plus grande qu'une autre valeur, alors c'est que son rang doit augmenter.

---

class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 4 (solution)

```
vec <- c(24,52,11,7,34,77,47,1,96,45)
vec_rang <- rep(1,10)   # création d'un vecteur (1,1,...,1)

FOR i in 1:10
  FOR j in 1:10
    IF(vec[i] > vec[j])
      vec_rang[i] <- vec_rang[i] + 1
    ENDIF
  END FOR
END FOR
```

Dans les exercices supplémentaires de l'atelier 2, nous créerons une fonction en se basant sur ce pseudo-code.

   
---
class: inverse, middle, center

# Exercices supplémentaires de l'atelier 2
<hr width="65%" size="0.3" color="orange" style="margin-top:-20px;"></hr>


---

# Exemple 1

Dans le cadre de la collation des grades à l'UdeS, on souhaite imprimer une phrase afin de la déposer sur le siège de chaque étudiant gradué. Les étudiants remplissent alors un formulaire en ligne et doivent indiquer leur nom, leur champ d'études, la durée de leurs études et leur âge à l'instant présent.


À l'aide de ces informations, on aimerait créer une fonction qui permettra, en fonction des informations de chaque finissant, d'écrire ceci:

```
NOM, a réalisé des études en SUJET, d'une durée approximative de ANS D'ÉTUDE ans. 
NOM termine ses études à l'âge de AGE ans.
```

---

class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 1 (solution)

```{r}
ecrire.phrase <- function(nom,age,annee.etude,sujet){
  cat(nom, "a réalisé ses études en", sujet, ", d'une durée approximative de", round(annee.etude), "ans. \n")
  cat(nom, "termine ses études à l'âge de", age, "ans.")
}


ecrire.phrase("Rolland","19",1.7,"géographie")
ecrire.phrase("Linda", "47", 2.8, "comptabilité")
ecrire.phrase("M. Kombucha", "31", 8.6, "médecine")
```


---

# Exemple 2

Lors de l'exemple 4 des exercices supplémentaires de l'atelier 1, nous avons défini un pseudo-code pour remplacer la fonction rank(). Pour cet exercice, on vous demande de coder le pseudo-code sous forme d'une fonction qui prend en argument le vecteur, et qui retourne le vecteur de rang, sans utiliser la fonction rank() bien sûr.

---

class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 2 (solution)

```{r}
func_rang <- function(vec){
  vec_rang <- rep(1,length(vec))

  for (i in (1:length(vec))){
    for (j in (1:length(vec))){
      if(vec[i] > vec[j]){
        vec_rang[i] <- vec_rang[i] + 1
      }
    }
  }
  return(vec_rang)
}
```

```{r}
vec1 <- c(24,52,11,7,34,77,47,1,96,45)
func_rang(vec1)
rank(vec1)
```

---


# Exemple 3

.pull-left[
<div style='text-align:center;'>
On cherche ici à trouver la longueur d'un vecteur. Effectivement, lorsque le vecteur augmente sur l'axe des abscisses (axe des x) et sur l'axe des ordonnées (axe des y), la longueur totale du vecteur ne se calcule pas aussi simplement que "distance en X + distance en Y". À droite, l'illustration définit bien le calcul général que l'on doit appliquer.
</div>
]

.pull-right[
<div style='text-align:center;'>
<img src="assets/img/vecteurgif.gif" height="300px"></img>
</div>
]

---

# Exemple 3 (suite)

La formule se généralise lorsque le vecteur n'a pas seulement deux éléments.

Par exemple:

Soit le vecteur (x,y), alors la longueur de celui-ci est donnée par $\sqrt{x^2 + y^2}$.

Soit le vecteur (x,y,z), alors la longueur de celui-ci est donnée par $\sqrt{x^2 + y^2 + z^2}$.

Créez une fonction qui permettra de calculer, peu importe le vecteur entré en argument, la longueur de ce dernier.

---

class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 3 (solution)


```{r}
calcul.norme <- function(vecteur){ # Argument est le vecteur
  sqrt(sum(vecteur^2)) # On fait la racine carrée de "la somme des éléments au carré"
}

calcul.norme(c(6,4)) # Notre vecteur illustré à la diapositive précédente
calcul.norme(c(1,2,3,4,5,6,7,6,5,4,3,2,1))
calcul.norme(c(2,2,2,2))
```

---


# Exemple 4

Comme vous avez pu le remarquer, une matrice est un tableau rectangulaire comportant des lignes et des colonnes. Lorsqu'une matrice comporte autant de lignes que de colonnes, on dit alors que la matrice est carrée. Ce type de matrice possède plusieurs propriétés supplémentaires. Effectivement, le **déterminant** d'une matrice peut seulement être calculé si cette même matrice est carrée. 

Dans cet exercice, nous nous intéresserons à calculer le déterminant d'une matrice 2x2 (donc quatre éléments). Pour une matrice 

$$A = \begin{bmatrix}
a_{11} & a_{12} \\
a_{21} & a_{22}
\end{bmatrix}$$

alors on note $det(A) = a_{11}*a_{22} - a_{21}*a_{12}$.

Créez une fonction qui calculera le déterminant d'une matrice 2x2. Dans le cas d'une matrice d'une autre dimension, on souhaite que la fonction retourne un message d'erreur indiquant que "La dimension de la matrice n'est pas 2x2".

---

class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 4 (solution)


```{r}
det.2x2 <- function(matrice){
  if((((dim(matrice))[1] != (c(2,2))[1])) || (((dim(matrice))[2] != (c(2,2))[2]))){
    stop("La dimension de la matrice n'est pas 2x2")
  }
  mat <- matrice[1,1]*matrice[2,2] - matrice[1,2]*matrice[2,1]
  return(mat)
}
```

```{r}

mat1 <- matrix(c(1,2,3,4), nrow = 2, ncol = 2)
mat1
det.2x2(mat1)
```

---

# Exemple 4 (solution: suite)

```{r, error=TRUE}
mat2 <- matrix(c(1,7,2,34), nrow = 2, ncol = 2)
mat2
det.2x2(mat2)

mat3 <- matrix(c(1,2,3,4,5,6), nrow = 2, ncol = 3)
mat3
det.2x2(mat3)
```


---

# Exemple 5

Vous êtes présentement en train de consulter l'exemple 5 des exercices supplémentaires de l'atelier 2. 

Vous voyez! J'ai deviné ce que vous faisiez à l'instant présent. Ce n'est pas mon seul et unique tour de mathémagie!

- Prenez la pointure de vos souliers (arrondie à l'entier le plus près)
- Multipliez cette pointure par 5
- Ajoutez 50 à ce résultat
- Multipliez par 20 le nouveau résultat
- Ajoutez maintenant 1030 au résultat
- Finalement, veuillez soustraire votre année de naissance

TADAM! 

Avant de comprendre ce qu'est le résultat, créons d'abord la fonction qui permet d'arriver à ce résultat, en fonction de la pointure et de l'année de naissance d'un individu quelconque.

---

class: inverse, middle, center

# Solution à la prochaine diapositive
<hr width="65%" size="0.3" color="green" style="margin-top:-20px;"></hr>


---

# Exemple 5 (solution)

```{r}
pointure.age <- function(pointure, annee_naissance){
  etape1 <- pointure * 5
  etape2 <- etape1 + 50
  etape3 <- etape2 * 20
  etape4 <- etape3 + 1030
  etape5 <- etape4 - annee_naissance
  return(etape5)
}
```

```{r}
pointure.age(11,1998)
pointure.age(5,2018)
```

Les deux derniers chiffres représentent l'âge que vous aurez en 2030, alors que les deux premiers (ou le premier) représentent votre pointure de soulier.

INCROYABLE!






